let buttonons=document.getElementsByClassName('button'),forEach=Array.prototype.forEach;forEach.call(buttonons,function(b){b.addEventListener('click',addElement);});function addElement(e){let addDiv=document.createElement('div'),mValue=Math.max(this.clientWidth,this.clientHeight),rect=this.getBoundingClientRect();let sDiv=addDiv.style,px='px';sDiv.width=sDiv.height=mValue+px;sDiv.left=e.clientX-rect.left-(mValue / 2)+px;sDiv.top=e.clientY-rect.top-(mValue / 2)+px;addDiv.classList.add('pulse');this.appendChild(addDiv);}
const animItems=document.querySelectorAll('._anim-items');if(animItems.length>0){window.addEventListener('scroll',animOnScroll);function animOnScroll(){for(let index=0;index<animItems.length;index++){const animItem=animItems[index];const animItemHeight=animItem.offsetHeight;const animItemOffset=offset(animItem).top;const animStart=4;let animItemPoint=window.innerHeight-animItemHeight / animStart;if(window.innerHeight<animItemHeight){animItemPoint=window.innerHeight-window.innerHeight / animStart;}
if((pageYOffset>animItemOffset-animItemPoint)&&pageYOffset<(animItemOffset+animItemHeight)){animItem.classList.add('_active');setTimeout(()=>{animItem.classList.add('_stdeffects');},1000);}else{if(!animItem.classList.contains('_noanim')){animItem.classList.remove('_active');}}}}
function offset(el){const rect=el.getBoundingClientRect(),scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,scrollTop=window.pageYOffset||document.documentElement.scrollTop;return{top:rect.top+scrollTop,left:rect.left+scrollLeft};}
setTimeout(()=>{animOnScroll();},300);}